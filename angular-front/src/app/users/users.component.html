<div class="users-container">
  <div class="page-header">
    <h1>👥 Users Management</h1>
    <p>View all registered users in the system</p>
  </div>

  <div class="content-card">
    <div class="card-header">
      <h2>Registered Users</h2>
      <button 
        (click)="loadUsers()" 
        [disabled]="isLoading"
        class="refresh-button"
        title="Refresh users list"
      >
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M23 4v6h-6"></path>
          <path d="M1 20v-6h6"></path>
          <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
        </svg>
        Refresh
      </button>
    </div>

    <div class="loading-container" *ngIf="isLoading">
      <div class="loading-spinner">
        <svg class="spinner" viewBox="0 0 50 50">
          <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
        </svg>
        <p>Loading users...</p>
      </div>
    </div>

    <div class="error-message" *ngIf="errorMessage && !isLoading">
      ❌ {{ errorMessage }}
    </div>

    <div class="users-table-container" *ngIf="!isLoading && !errorMessage">
      <table class="users-table" *ngIf="users.length > 0">
        <thead>
          <tr>
            <th>User</th>
            <th>Email</th>
            <th>Registration Date</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users" class="user-row">
            <td class="user-info">
              <div class="user-avatar">
                {{ getInitials(user.name) }}
              </div>
              <div class="user-details">
                <span class="user-name">{{ user.name }}</span>
                <span class="user-id">ID: {{ user.id }}</span>
              </div>
            </td>
            <td class="user-email">
              <a href="mailto:{{ user.email }}" class="email-link">
                {{ user.email }}
              </a>
            </td>
            <td class="user-date">
              {{ formatDate(user.createdAt) }}
            </td>
            <td class="user-actions">
              <button class="action-button" title="View user details">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
            </td>
          </tr>
        </tbody>
      </table>

      <div class="no-users" *ngIf="users.length === 0">
        <div class="no-users-icon">👥</div>
        <h3>No Users Found</h3>
        <p>There are no registered users in the system yet.</p>
      </div>
    </div>

    <div class="table-footer" *ngIf="users.length > 0">
      <p>Total users: {{ users.length }}</p>
    </div>
  </div>
</div> 